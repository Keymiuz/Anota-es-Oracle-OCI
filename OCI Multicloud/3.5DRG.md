# Dynamic Routing Gateway (DRG)

O DRG é um recurso chave e fundamental no Oracle Cloud Infrastructure. É a ferramenta que você utiliza para escalar suas redes e sua conectividade.

## O que é o Dynamic Routing Gateway (DRG)?

O DRG é um roteador virtual de alta disponibilidade que atua como um ponto central para o tráfego de rede que entra ou sai de sua VCN, exceto o tráfego da internet. Ele é a porta de entrada para conectar sua VCN a:

* Redes locais (on-premises).
* Redes em outros provedores de nuvem.
* VCNs em outras regiões do OCI (na sua tenancy ou na de terceiros).

### Análogos em Outros Provedores de Nuvem

O DRG no OCI tem funções semelhantes a:
* **Google Cloud:** Cloud Router
* **Microsoft Azure:** VNet Gateway
* **AWS:** Transit Gateway, Virtual Gateway, Direct Connect Gateway

## Principais Funcionalidades e Características

* **Hub de Conectividade:** O DRG pode servir como um hub central, conectando múltiplas VCNs e substituindo a necessidade de múltiplos Local Peering Gateways.
* **Alta Escalabilidade:** Um único DRG pode ter até **300 VCNs** anexadas.
* **Alta Disponibilidade (HA):** O DRG é um serviço inerentemente redundante. Embora você configure apenas um, existe um DRG de backup em segundo plano que assume imediatamente em caso de falha, de forma transparente para o usuário.
* **Roteamento Complexo:** Permite configurar roteamento avançado, atribuindo tabelas de rota e políticas de distribuição de rota diferentes para cada recurso de rede anexado.
* **Equal Cost Multi-Path (ECMP):** Ao configurar uma VPN Site-to-Site, você pode habilitar o ECMP para que ambos os túneis fiquem em uma configuração ativo-ativo, em vez do padrão ativo-standby.

## Tipos de Anexos (Attachments) do DRG

O DRG gerencia a conectividade através de "anexos". Os tipos de anexos suportados são:

1.  **Virtual Cloud Network (VCN):** Para conectar VCNs (na mesma região ou em regiões diferentes).
2.  **Remote Peering Connection (RPC):** Para conectar a uma VCN em uma região remota.
3.  **IPSec Tunnel (Site-to-Site VPN):** Para conectar à sua rede on-premises através da internet.
4.  **Virtual Circuit (FastConnect):** Para uma conexão privada e dedicada à sua rede on-premises ou a outro provedor de nuvem através de parceiros (Equinix, Megaport, etc.).

## Roteamento Transitivo: O Poder do DRG

Uma das capacidades mais importantes do DRG é o **roteamento transitivo**.

* **O que é:** O DRG pode rotear o tráfego **entre seus diferentes anexos**.
* **Exemplo Prático:**
    1.  Sua rede on-premises está conectada via FastConnect a um DRG na região de Ashburn.
    2.  Esse mesmo DRG tem uma conexão de Remote Peering com outro DRG na região de Londres.
    3.  Com o roteamento transitivo, você pode configurar o DRG de Ashburn para que o tráf-ego vindo do seu on-premises seja roteado **através do backbone da Oracle** até a VCN em Londres.
* **Resultado:** Você pode acessar recursos em uma região remota (Londres) a partir do seu escritório, passando por uma única conexão de rede na região mais próxima (Ashburn). Isso simplifica a arquitetura e aproveita a rede global da Oracle.

## Cenários Complexos e Redundância

Com o roteamento transitivo, você pode criar arquiteturas de rede complexas e resilientes. Por exemplo, você pode ter conexões FastConnect primárias e secundárias para diferentes regiões do OCI a partir do seu on-premises, garantindo redundância e múltiplos caminhos para seus recursos na nuvem.